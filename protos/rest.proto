// Copyright 2015 gRPC authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";
import "google/protobuf/wrappers.proto";	// null kullanabilmek icin https://stackoverflow.com/questions/42622015/how-to-define-an-optional-field-in-protobuf-3

package rest;		// namespace

// The CRUDs service definition.
service CRUDs {
  rpc TblaFill (QryProxy) returns (stream TblaProxy) {}
  rpc TblaUpdate (TblaProxy) returns (TblaProxy) {}

  rpc AHPfill (QryProxy) returns (stream AHPproxy) {}
  rpc AHPupdate (AHPproxy) returns (AHPproxy) {}

  rpc AFBfill (QryProxy) returns (stream AFBproxy) {}
  rpc AFBupdate (AFBproxy) returns (AFBproxy) {}
  rpc AFBgetByPK (PKproxy) returns (AFBproxy) {}	// Kullanilmiyor

  rpc AFDfill (QryProxy) returns (stream AFDproxy) {}
  rpc AFDupdate (AFDproxy) returns (AFDproxy) {}

  rpc ABBfill (QryProxy) returns (stream ABBproxy) {}
  rpc ABBupdate (ABBproxy) returns (ABBproxy) {}

  rpc ABDfill (QryProxy) returns (stream ABDproxy) {}
  rpc ABDupdate (ABDproxy) returns (ABDproxy) {}

  rpc XGTfill (QryProxy) returns (stream XGTproxy) {}
  rpc XGTupdate (XGTproxy) returns (XGTproxy) {}

  rpc XDKfill (QryProxy) returns (stream XDKproxy) {}
  rpc XDKupdate (XDKproxy) returns (XDKproxy) {}

  rpc UUUfill (QryProxy) returns (stream UUUproxy) {}
  rpc UUUupdate (UUUproxy) returns (UUUproxy) {}
  rpc UYTfill (QryProxy) returns (stream UYTproxy) {}
  rpc UYTupdate (UYTproxy) returns (UYTproxy) {}
  rpc UYHfill (QryProxy) returns (stream UYHproxy) {}
  rpc UYHupdate (UYHproxy) returns (UYHproxy) {}

  rpc NNNfill (QryProxy) returns (stream NNNproxy) {}
  rpc NNNupdate (NNNproxy) returns (NNNproxy) {}

  rpc NeUpFill (QryProxy) returns (stream NeTreeProxy) {}
  rpc NeDownFill (QryProxy) returns (stream NeTreeProxy) {}
  rpc KidsInParentsFill (QryProxy) returns (stream KidsInParentsProxy) {}
  rpc NodesInParentsFill (QryProxy) returns (stream NodesInParentsProxy) {}

  rpc KKKfill (QryProxy) returns (stream KKKproxy) {}

  rpc KFTfill (QryProxy) returns (stream KFTproxy) {}
  rpc KFTupdate (KFTproxy) returns (KFTproxy) {}

  rpc KPTfill (QryProxy) returns (stream KPTproxy) {}
  rpc KPTupdate (KPTproxy) returns (KPTproxy) {}

  rpc KDTfill (QryProxy) returns (stream KDTproxy) {}
  rpc KDTupdate (KDTproxy) returns (KDTproxy) {}

  rpc BRfill (QryBRproxy) returns (stream BRproxy) {}
  rpc BRupdate (BRproxy) returns (BRproxy) {}

  rpc ToKPTfill (QryPproxy) returns (stream ToKPTproxy) {}
  rpc ToKPTupdate (ToKPTproxy) returns (ToKPTproxy) {}
  
  rpc ToKHTfill (QryPproxy) returns (stream ToKHTproxy) {}
  rpc ToKHTupdate (ToKHTproxy) returns (ToKHTproxy) {}

  rpc ToKDTfill (QryPproxy) returns (stream ToKDTproxy) {}
  rpc ToKDTupdate (ToKDTproxy) returns (ToKDTproxy) {}

  rpc KHTfill (QryPproxy) returns (stream KHTproxy) {}
  rpc KHTupdate (KHTproxy) returns (KHTproxy) {}

  rpc KCTfill (QryPproxy) returns (stream KCTproxy) {}
  rpc KCTupdate (KCTproxy) returns (KCTproxy) {}
}

message PKproxy {
  uint64 PK = 1;
}

message QryBRproxy {
  uint64 M = 1;
  string Mtyp = 2;
  string Dtyp = 3;
}

message QryPproxy {
  uint64 P = 1;
  string Ptyp = 2;
}

message QryProxy {
  string query = 1;
  string param = 2;
}

message NeTreeProxy {
	int32 L = 1;
	uint64 P = 2;
	uint64 K = 3;
	string A = 4;
	uint64 N = 5;
	double M = 6;
	double MT = 7;
	double F = 8;
	bool HasKid = 9;	// HasKid
	string Ureten = 10;
}

message KidsInParentsProxy {
	uint64 KNo = 1;
	uint64 PNo = 2;
	string KAd = 3;
	string PAd = 4;
	double M = 5;
}

message NodesInParentsProxy {
	uint64 KNo = 1;
	uint64 PNo = 2;
	string KAd = 3;
	string PAd = 4;
	double M = 5;
}

// Deneme
message TblaProxy {
  string row_state = 1;	// Inserted/Modified/Deleted/Unchanged
  string row_err = 2;
  uint64 row_pk = 3;

  string fldStr = 4;
  int32 fldInt = 5;
  double fldDbl = 6;
  double fldDcm = 7;	// String olabilir
  int64 fldDate = 8;	// DateTime.Ticks olarak UInt64 de tut. new DateTime(fldDate) => DateTime 
}

// Base
message BaseRow {
  string State = 1;	// Inserted/Modified/Deleted/Unchanged
  string Err = 2;
  uint64 Usr = 3;
}

// Muhasebe Hesap Plani
message AHPproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 P = 5;
	string No = 6;
	string Ad = 7;
	string HspNo = 8;
	double Brc = 9;
	double Alc = 10;
	bool IsW = 11;
	bool HasH = 12;
}

// Muhasebe Fisleri
message AFBproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	int64 Trh = 5;
	uint64 TUR = 6;
	string Drm = 7;
	google.protobuf.StringValue Info = 8;
	double Brc = 9;
	double Alc = 10;
}

// Muhasebe Fis Detaylari
message AFDproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 AFB = 5;
	uint64 AHP = 6;
	google.protobuf.StringValue Info = 7;
	double Tut = 8;
	uint64 DVT = 9;
	float Kur = 10;
	double TutTL = 11;
}

// Muhasebe Bill/Fatura Baslik
message ABBproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	int64 Trh = 5;
	uint64 TUR = 6;
	string Drm = 7;
	uint64 KFT = 8;
	string BA = 9;
	uint64 DVT = 10;
	float Kur = 11;
	double Tut = 12;
	google.protobuf.StringValue Info = 13;
}

// Muhasebe Bill/Fatura Detay
message ABDproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 ABB = 5;
	uint64 NNN = 6;
	uint64 AHP = 7;
	double Fyt = 8;
	uint64 DVT = 9;
	double Mik = 10;
	float Kur = 11;
	int32 KDY = 12;
	google.protobuf.StringValue Info = 13;
}

// GenelTanimlari
message XGTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 P = 5;
	string Kd = 6;
	string Ad = 7;
}

// DovizKurlari
message XDKproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	int64 Trh = 5;
	uint64 DVT = 6;
	float Kur = 7;	// Dovizin TRL karsiligi
	string Dvz = 8;
}

// User
message UUUproxy {
  string RowSte = 1;
  string RowErr = 2;
  uint64 RowUsr = 3;
  uint64 RowKey = 4;
  uint64 UYT = 5;
  string Ad = 6;
  string Pwd = 7;
}

// UserYetkiTanimlari
message UYTproxy {
  string RowSte = 1;
  string RowErr = 2;
  uint64 RowUsr = 3;
  uint64 RowKey = 4;
  string Ad = 5;
}

// UserYetkiHiyerarsi
message UYHproxy {
  string RowSte = 1;
  string RowErr = 2;
  uint64 RowUsr = 3;
  uint64 RowKey = 4;
  uint64 P = 5;
  uint64 K = 6;
}

// NNN Ne
message NNNproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	google.protobuf.StringValue Kd = 5;
	google.protobuf.StringValue Ad = 6;
	uint64 BRM = 7;
	double Fyt = 8;
}

// BR BaseRelation
message BRproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 P = 5;
	uint64 C = 6;
	string Others = 7;
}

// KKK Kim Base SIL
message KKKproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	string Ad = 5;
	string Tur = 6;	// FR:Firma, DP:Depo, UH:Uretim, IM:Imha, 
}

message KFTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	google.protobuf.StringValue Kd = 5;
	google.protobuf.StringValue Ad = 6;
	google.protobuf.StringValue Info = 7;
	google.protobuf.StringValue Tel = 8;
	google.protobuf.StringValue Adres = 9;
	google.protobuf.StringValue Sorumlu = 10;
	google.protobuf.StringValue VrgDN = 11;
	uint64 AHPbrc = 12;
	uint64 AHPalc = 13;
}

// KCT Master -> KimHaberlesmeTanim (Master:KFT,KCT,KPT,KDT)
message KCTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 M = 5;	// Master is KFT
	google.protobuf.StringValue Kd = 6;
	google.protobuf.StringValue Ad = 7;
	google.protobuf.StringValue info = 8;
}

// KimDepartmanTanim
message KDTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	google.protobuf.StringValue Kd = 5;
	google.protobuf.StringValue Ad = 6;
	google.protobuf.StringValue info = 7;
}

// KimPersonelTanim
message KPTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	google.protobuf.StringValue Kd = 5;
	google.protobuf.StringValue Ad = 6;
	google.protobuf.StringValue info = 7;
}

// KHT Master -> KimHaberlesmeTanim
message KHTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 M = 5;	// Masters are KDT,KPT,KFT,KCT,
	google.protobuf.StringValue Kd = 6;
	google.protobuf.StringValue Ad = 7;
	google.protobuf.StringValue info = 8;
}

// ToKHT Master -> KimHaberlesmeTanim (Master:KFT,KCT,KPT,KDT)
message ToKHTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 M = 5;
	google.protobuf.StringValue Kd = 6;
	google.protobuf.StringValue Ad = 7;
	string Skl = 8;
	int32 Oncelik = 9;
	uint64 P = 10;
}

// ToKPT Master -> KimPersonelTanim SIL
message ToKPTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 P = 5;
	google.protobuf.StringValue Kd = 6;
	google.protobuf.StringValue Ad = 7;
}

// ToKDT KimDepartmanTanim SIL
message ToKDTproxy {
	string RowSte = 1;
	string RowErr = 2;
	uint64 RowUsr = 3;
	uint64 RowKey = 4;
	uint64 P = 5;
	google.protobuf.StringValue Kd = 6;
	google.protobuf.StringValue Ad = 7;
}
